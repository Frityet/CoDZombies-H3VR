# Nacht der Untoten

Welcome to the call of duty zombies inspired mod. It is not only a map, but also
a gamemode, in which you'll be fighting to survive through waves of zombies.

Features including:
- Zosigs or Custom enemies
- Wave system
- Limited ammo mode
- Power ups
- Perks
- Buying weapons
- Mystery Box
- Pack A Punch
- Barricading windows
- Rayguns by Sora101Ven

Important:
- Buying stuff, changing settings etc. are done by pulling the levers
- Remember to spawn lock ammunition

This map works as a proving grounds. It contains prototype features that don't exist on the original map, like the teleporter.

### How to play?
When you launch the game, turn 180 degrees to see and select the custom map. Then load it like any other scene.
If you can't see it, or it loads proving grounds, then 90% chances are, you've done something wrong, or there is a problem with other mods.

Feel free to contact me, especially if you have any questions/feedback on [Discord group](https://discord.gg/83yTrfr)  
or directly: Kodeman#8924    
or by e-mail: kodeman625@gmail.com  

Perks:
- Juggernog: doubles player's health.
- Deadshot Daiquiri:   
  - Zosig: Increases headshot damage by 35%  
  - Custom zombie: Increases zombie's head collider by 25% and headshot damage by approx. 20%  
- DoubleTap: Increases overall damage by aprox. 25% and fire rate by 33%
- MuleKick: Spawns backpack
- SpeedCola: Repairing barricades now requires only a single plank, and every applicable weapon receives mag release button
- StaminUp: Increases player's max movement speed
- PHDFlopper: Reduces explosion damage dealt to the Player by 70%
- Quick Revive: Grants a single respawn and provides invincibility for 10 seconds.
- Electric Cherry: Unloading an empty magazine will stun enemies for a short duration. 5 sec cooldown. (Works only for magazine using weapons temporarily)

[![kofi](https://az743702.vo.msecnd.net/cdn/kofi3.png?v=0)](https://ko-fi.com/kodeman)  
&emsp; &emsp; &emsp; &emsp;[KO-FI CAD$ version](https://ko-fi.com/kodeman2)

### Want to make Your own map for this mod?
Here's the [Tutorial](https://docs.google.com/document/d/1B-RW__ZbyKdURF7d-6Qla2Lqe0gZdO1PgaUfGvj4QNw/edit?usp=sharing)
Let me know of any problems, I'd be glad to help.


## Changelog

### 1.0.4
- Weapon pools support. Player can now choose between 2 sets of weapons that will spawn in shops and in the mystery box  

### 1.0.3
- I can't figure out how to fix error that happens in 104 experimental when holding objects like planks. Until I resolve this issue,
StaminUp perk has been changed to increase movement speed only. (No reduction from carrying heavy weapons)
Player movement speed is also slightly reduced without the perk.  
From Jedi's feedback on his stream:  
- Fixed music not looping
- Made Hellhounds quieter

### 1.0.2
- Smaller fixes + posted the [tutorial](https://docs.google.com/document/d/1B-RW__ZbyKdURF7d-6Qla2Lqe0gZdO1PgaUfGvj4QNw/edit?usp=sharing)

### 1.0.1
- Made an option to reduce zombies HP  

### 1.0.0
- Finishing touches  
- Implemented Raygun MK2 from Sora101Ven    

Within a few days I'm planning to create a tutorial showcasing how to create custom maps with this gamemode template.
Please notify me if You see any bugs


### 0.8.0
- Hellhound inspired round. Appears every 8 rounds. During that time, enemies will spawn inside the bunker.
They are fast but have reduced HP.
- Multi location support added. Created a small second room as a preview, accessed by a teleport.
- Pause option available. Pull the lever at spawn to pause (Works only between rounds).
- Added trap. It creates a barrier that kills every enemy passing through for 10 seconds.  

### 0.7.0
Atlas update
Finally, the Atlas port is complete. It was basically mod remake, so some details might be changed.

- Quick Revive perk. Upon death, player will respawn in the same spot shortly after and will be given 
invincibility for a short time. Works only once.
- Electric cherry perk. Unloading an empty magazine will stun enemies for a short duration. 5 sec cooldown.  

With this, all perk machines I wanted to implement are complete. I know the map got little cluttered,
but I accepted the fact, that Nacht is essentialy proving grounds for other maps.
I have few more updates planned and then I will create tutorial so other people will have easier time creating better looking maps than my abomination


### 0.6.4
- You can now find the Raygun in the Mystery Box. Beautiful gun provided by Sora101Ven. Good luck rolling for it.
- PHDFlopper added for reducing explosion damage, that You will cause yourself while shooting the Raygun.
- I noticed the item spawner was backwards, so I rotated it.  

There has been some time between the last to updates, but don't worry, the mod is still being worked on.
Zombies are being transitioned from Wurstmod to Atlas, with majority of the work done by Frityet,
But there are still problems ahead and I don't know when it will be finished.

### 0.6.3
- Proper StaminUp perk machine. All hail Sora101Ven.
- Custom zombies no longer will get stuck or move weirdly
- Reduced custom zombies HP increase per round to delay the bullet sponges
- Reduced custom zombies speed
- Re-Pack-A-Punching added. Putting previously upgraded weapons into the machine costs the same (5000 points).
The weapon will receive 40% fire rate increase, and it's magazine will be reloaded with random ammunition and additional 
magazine (biggest possible) will be spawned. (More magazines / clips / speedloaders will spawn in the limited ammo mode).
Currently, there is no limit to Re-Pack-A-Punching
Also every weapon can be pack-a-punched including those from the item spawner.


### 0.6.2
- Added error message if zosigs fail to spawn, advising to change Otherloader version.
- DeadShot Daiquiri now increases headshot damage by 35% for zosigs and adds 20% headshot damage increase for custom zombies
- Speed cola behavior changed  
When activated, every applicable weapon receives mag release button (try it with belt fed lmg)  
(I was thinking a lot about this perk, like auto slide/bolt release or even removing the need for charging handle, but I've decided
it's not a good idea to award player with disabling game mechanics)  
- Double tap behavior changed  
When activated it will grant 25% increased damage and 33% increased fire rate to every weapon
- StaminUp perk (No machine model yet)  
Twinstick Movement:  
Reduced max speed. Increased by 10% when StaminUp perk is active.  
Slower movement when carrying large and massive weapons without the perk.  
Armswinger Movement:  
Base speed (speed without flailing arms) increased by 10% when StaminUp perk is active  
Slower base speed when carrying large and massive weapons without the perk.

(Let me know if there is any unwanted behavior or have any feedback, I'm still experimenting)



### 0.6.1
- Zosigs improved yet again
- Zosigs are now default enemy type
- Mule Kick added
- Speed Cola added  

This and previous update might be problematic for some. Other mods are updating to the alpha version of the game.
I recommend using Otherloader v1.0.0 for this mod to work.

### 0.6.0
- Zosigs improved with the help of Arpy and are no longer experimental 
- Custom zombies improved
- Item spawner option available (Disables scoring)

### 0.5.1 Hotfix
- Some people couldn't run the mod, because I have been using code that requires dependency and I wasn't aware of that. I've added that dependency.

### 0.5.0
- (Experimental) You can now choose between the custom enemies or zosigs. Minor issues expected.  
This was hell and I wasn't even the one to configure those zosigs. If someone wanted to have zosigs in this game mode,
don't thank me, thank Arpy for making zosigs work, nrgill28 for the help with the bugs and Frityet for overall help with understanding the code.
- Ambience added.
- Optional background music added (royalty free). 
- UI improvements. Most importantly, points now follow you like health.

### 0.4.0
- Minor graphical improvements. I found some broken graphics that I wanted to fix so I took them and made them worse. It's still better than
some existing stuff so I've kept it. I'm not proud of it, so it will probably be tweaked / replaced
- Made changes in the zombies algorithm to adress a strange bug in which zombies did not spawn or got stuck.
Do let me know if the issue persists, so I know I need to make another hotfix.
- Death machine power up added (spawns minigun that exists for 30 seconds)
- Power ups spawning rebalanced.
- Limited ammo mode magazines and mystery box rebalanced

I've prepared some error logging, so if something goes wrong, spawn log panel with your hand, and let me know if there is some
red text or other important info.

Known issue:
Rarely, Agent.SetDestination error occurs, I don't know why, it should break some AI, but it doesn't as far as I tested.
I could not break the AI at all in my playthroughs.

### 0.3.0
- Working penetration (for some reason it changed received damage values, can lead to some changes)
- Player heals after each round
- More time between rounds
- You can now rebuy wall weapons (if you want for some reason)
- Insta kill power up (1 hit kill enemies for 30 seconds (I recommend gun bashing))
- Carpenter power up (fully fixes every barricade)
- Reject starting K98k balance, embrace M1911 tradition
- Limited ammo mode.
Assume it's unbalanced, but even with that I had some fun with it, so I decided to release it
early. Especially pack a punch weapons might have slightly too few magazines. 
Players deals twice the damage in this mode.
Mystery box loot table has changed in this mode, to give you a better chance of surviving.
Shotguns have been removed in this mode, because how would max ammo work with them?
- Max ammo power up (works only in limited ammo mode)
It fills all clips and magazines in your quickbelt slots, but not in weapons, so remember
to reload before picking it up.

### 0.2.1 Hotfix
- Zombies can again be damaged from body shots too, not only headshots
- Previously, player had invincibility frames after hitting zombie once, but
it was calculated per zombie. So if you ran through a horde, every zombie dealt you damage.
It's been changed so you can be hit by one zombie at a time. This may again change later.

Lucky me, did balancing tests while having bug in the damage system.
The fixes are not perfect, but proper solution will require the damage system rework,
for which I don't currently have time

### 0.2.0
I'm moving up version numbers, don't want people to think the gamemode is at that early stage.

- Pack A Punch Added! Every weapon existing in the game mode can be upgraded.
Just put your baby in the machine.

Time to destroy whatever was left of the balance. The behavior might not be what you expected,
but I hope You're positively surprised. I tried to make as much sense and fun as possible when choosing
the upgrades. Also some of them are better than the others, so have some fun experimenting.
Let me know if you have better ideas for some weapons, or if balance is off. Some
weapons will be weaker or stronger, but I don't want to have a single gun meta.

- Graphical improvements. Perk A Cola machines, Mystery Box and Pack A Punch
models and textures were improved.

The visuals are low on my priority list, partially because I'm not great at this stuff,
partially because this is supposed to be a framework for others to create their own maps.
But I couldn't wait when Sora101Ven provided those amazing models. Big shoutout.
Some graphics might be slightly off, but I'll fix them later.

As always, keep bug / performance / balance / ideas info coming :)


### 0.1.0
- Barricading windows system
- More Zombies option added (More zombies spawn per round, but the cap is still 20 until performance is properly tested)
- Faster Zombies option added
- Weaker Zombies option added
- Zombies animations have been improved
- Levers are a little bit better (Still some behavior work to do)
- Fixed breaking the game if the player reloaded the scene. Now the game should behave the same
(but if you find any bugs, let me know if you did scene reload prior, or went to main menu and back in)
- Fixed not being able to pick up power ups and being invincible
- I was not able to reproduce the bug that prevented rounds from advancing, maybe I fixed it by mistake. Still added additional checks,
so let me know if it happens again.

I've played this version a couple of times, not a single game breaking bug. But I had to make many changes under the hood, so hopefully nothing additionally broke. 
Also let me know about the performance, I've got a pretty unstable internet connection myself and it creates some lag spikes. Hopefully not for you.

### 0.0.6
- Friendship ended with yellow interaction box, now yellow lever is my best friend. (Or it would be if it didn't cost me so much blood, worked as intended and wasn't a little buggy).
- Double points power up drops rarely from zombies.
- Nuke power up drops are even rarer.
- Mystery box is no longer stationary. Find it. Find it again.
- Explosives have been nerfed.

### 0.0.5
- FINALLY basics of interactivity, consuming perks now require the player to put the bottle to his
head like the hot dog in TnH.
- Added Health system, the player is no longer killed in one hit.
- Added Jugger-Nog perk, it doubles player's health and heals him.
- Added Deadshot Daiquiri perk, it increases zombies head collider by 25%.
- More weapons in the mystery box
- Basic balancing

### 0.0.4
- Added support for different bullet types. The k98k now deals more damage than a 1911 pistol.
Balancing problems may occur for some time.
- Double tap perk added. Does not fire more bullets, but increases damage by 0-50% depending on the gun.
It was created to avoid "bullet spongy" enemies in higher rounds.

### 0.0.3
- Fixed enemy rendering issues.
- Windows now allow your weapons to pass through them
- You can no longer climb on the window when standing close to it.
- Zombies will not merge anymore